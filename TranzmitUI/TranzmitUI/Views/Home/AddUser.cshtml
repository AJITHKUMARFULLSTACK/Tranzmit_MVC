@model TranzmitUI.Models.UserMaster

<DOCTYPE! html>
    <html>
    <head>
        <title>AddUser</title>
        <meta name="viewport" content="width=device-width" />
        <link href="~/Content/Gridmvc.css" rel="stylesheet" />
        <link href="~/Content/bootstrap.min.css" rel="stylesheet" />
        <link href="~/Content/main.css" rel="stylesheet" />
        <script src="~/Content/jquery.1.8.3.min.js"></script>
        <link href="~/Content/bootstrap-multiselect.css" rel="stylesheet" />
        <script src="~/Content/bootstrap-multiselect.js"></script>
        <script src="~/Scripts/jquery.validate.min.js"></script>
        <script src="~/Scripts/jquery.validate.unobtrusive.min.js"></script>

    </head>

    <body style="overflow-y:hidden;">
        <div class="pageContainer">
            <div class="insertPageTitle">Create User</div>
            @*<div>
                        <button class="scheduleButton" style="margin-right:5px" onclick="wrong_pass_alert()">
                            SAVE
                        </button>
                        <a class="cancelRedirectButton" style="" href="/Home/UserList">

                            CANCEL

                        </a>
        <a href="~/Views/Home/AddUser.cshtml">~/Views/Home/AddUser.cshtml</a>
                    </div>*@

        </div>
        <hr/>
        
        <div>
            @if (ViewBag.UserFail != null)
            {
                <script type="text/javascript">

                      window.onload = function () {
                      alert("@ViewBag.UserFail");
                        };
                </script>
            }
        </div>
        @*<div style="padding:10px;color:black;">
            <center><h3>DEVICE INSERT</h3></center>
        </div>*@
        @using (Html.BeginForm())
        {
            @Html.AntiForgeryToken()
            <div class="row">
                <div class="column" style="height:100%; width:100%;">
                    <table width="50%" align="center" cellpadding="5" cellspacing="10" style="border-collapse: separate; border-spacing: 0 1em; border-width: 5px; border-color:black;margin:0 25%;">

                        <tr>
                            <td class="lblsec">Username</td>
                            <td></td>
                            <td>
                                @Html.TextBoxFor(model => model.UserUser, new { @class = "inputstyle", @autocomplete = "off", onkeyup = "ChangeTypepassword();" })
                                <br />
                                @Html.ValidationMessageFor(model => model.UserUser)
                            </td>
                        </tr>
                        <tr>
                            <td class="lblsec">EmpolyeeID</td>
                            <td></td>
                            <td>
                                @Html.TextBoxFor(model => model.EmpolyeeID, new { @class = "inputstyle", @autocomplete = "off" })
                                <br />
                                @Html.ValidationMessageFor(model => model.EmpolyeeID)
                            </td>
                        </tr>
                        <tr>
                            <td class="lblsec">Email</td>
                            <td></td>
                            <td>
                                @Html.TextBoxFor(model => model.Email, new { @class = "inputstyle", @autocomplete = "off" })
                                <br />
                                @Html.ValidationMessageFor(model => model.Email)
                            </td>
                        </tr>
                        <tr>
                            <td class="lblsec">Password</td>
                            <td></td>
                            <td>
                                @Html.TextBoxFor(model => model.PasswordUser, new { @class = "inputstyle make-pass", @autocomplete = "off" })
                                <br />
                                @Html.ValidationMessageFor(model => model.PasswordUser)
                            </td>
                        </tr>
                        <tr>
                            <td class="lblsec">Confirmpassword</td>
                            <td></td>
                            <td>
                                @Html.TextBoxFor(model => model.ConfirmPassword, new { @class = "inputstyle make-pass", onkeyup = "validate_password();" })
                                <br />
                                @Html.ValidationMessageFor(model => model.ConfirmPassword)
                                <span id="wrong_pass_alert"></span>
                            </td>
                        </tr>


                        <tr id="role">
                            <td class="lblsec">@*@Html.LabelFor(model => model.CityId)*@UserRole</td>
                            <td></td>
                            <td>
                                @Html.DropDownListFor(model => model.RoleName, Model.RoleSelect, "Please Select", new { @class = "ddlsize", onchange = " roleselection(); " })
                                <br />
                                @Html.ValidationMessageFor(model => model.RoleName)
                            </td>
                        </tr>

                        <tr id="organization">
                            <td class="lblsec">Organization</td>
                            <td></td>
                            <td>
                                @Html.DropDownListFor(model => model.BankName, Model.OrganizationSelect, "Please Select", new { @class = "ddlsize" })
                                <br />
                                @Html.ValidationMessageFor(model => model.BankName)
                            </td>
                        </tr>

                        <tr>
                            <td></td>
                            <td></td>
                            <td style="padding-top:100px;" valign="bottom">
                                <div style="width:300px;">
                                    <button style="float:left;margin-right:5px" class="@(Session["UserOraganization"].ToString() == "KeralaStateCooperativeBank" ? "form-btn" : "scheduleButton")">
                                        Add
                                    </button>
                                    <a class="@(Session["UserOraganization"].ToString() == "KeralaStateCooperativeBank" ? "form-btn" : "scheduleButton")" href="/Home/UserList">

                                        Cancel

                                    </a>
                                </div>



                            </td>
                        </tr>
                    </table>
                </div>
            </div>


        }
        
        <script>
            $(document).ready(function () {
                $("#organization").hide();
                //document.getElementById('PasswordUser').value = '';

                $("input").attr("autocomplete", "off");
                $("#AddUserForm").attr("autocomplete", "off");

            });
        </script>
        <script type="text/javascript">

        </script>

        <script>
            function ChangeTypepassword() {
                $(".make-pass").attr("type", "password");
            }
            function validate_password() {

                var pass = document.getElementById('PasswordUser').value;
                var confirm_pass = document.getElementById('ConfirmPassword').value;
                if (pass != confirm_pass) {
                    document.getElementById('wrong_pass_alert').style.color = 'red';
                    document.getElementById('wrong_pass_alert').innerHTML
                        = '☒ Use same password';
                    document.getElementById('create').disabled = true;
                    document.getElementById('create').style.opacity = (0.4);
                } else {
                    document.getElementById('wrong_pass_alert').style.color = 'green';
                    document.getElementById('wrong_pass_alert').innerHTML =
                        '🗹';
                    document.getElementById('create').disabled = false;
                    document.getElementById('create').style.opacity = (1);
                }
            }

            //function wrong_pass_alert() {
            //    if (document.getElementById('BankName').value != "" )
            //         {
            //        alert("please file the details");
            //    }
            //    //} else {
            //    //    alert("Please fill all the fields");
            //    //}
            //}
            function roleselection() {



                var value = document.getElementById("RoleName");
                var getvalue = value.options[value.selectedIndex].value;
                var gettext = value.options[value.selectedIndex].text;
                if (getvalue == "M") {

                    $("#organization").show();

                }
                else {
                    $("#organization").hide();
                }


            }
        </script>
    </body>
</html>
